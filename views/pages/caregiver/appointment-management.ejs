<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Appointment Management - Caregiver Portal</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      :root {
        --primary: #136179cc;
        --primary-light: #eef2ff;
        --info: #36b9cc;
        --info-light: #e3f8fb;
        --success: #1cc88a;
        --success-light: #e6fff7;
        --warning: #f6c23e;
        --warning-light: #fff8e6;
        --danger: #e74a3b;
        --danger-light: #ffe6e4;
        --gray: #858796;
        --gray-light: #f8f9fc;
        --dark: #5a5c69;
        --sidebar-width: 250px;
        --transition-speed: 0.3s;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background-color: #4ca4becc;
        color: #333;
        min-height: 100vh;
      }

      /* Background Elements */
      .background-container {
        position: fixed;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: -1;
      }

      .shape {
        position: absolute;
        opacity: 0.05;
        border-radius: 50%;
      }

      .shape1 {
        width: 500px;
        height: 500px;
        background: var(--primary);
        top: -150px;
        right: -100px;
      }

      .shape2 {
        width: 300px;
        height: 300px;
        background: var(--info);
        bottom: -100px;
        left: -50px;
      }

      .icons-container {
        position: absolute;
        width: 100%;
        height: 100%;
      }

      .icon {
        position: absolute;
        color: var(--gray);
        opacity: 0.05;
        font-size: 40px;
      }

      .icon:nth-child(1) { top: 20%; left: 10%; }
      .icon:nth-child(2) { top: 40%; left: 25%; }
      .icon:nth-child(3) { top: 60%; left: 15%; }
      .icon:nth-child(4) { top: 80%; left: 30%; }
      .icon:nth-child(5) { top: 15%; right: 20%; }
      .icon:nth-child(6) { top: 35%; right: 10%; }
      .icon:nth-child(7) { top: 55%; right: 25%; }
      .icon:nth-child(8) { top: 75%; right: 15%; }

      /* Sidebar */
      .sidebar {
        position: fixed;
        left: 0;
        top: 0;
        width: var(--sidebar-width);
        height: 100%;
        background: #167997cc;
        box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
        z-index: 100;
        transition: all var(--transition-speed);
        overflow-y: auto;
      }

      .sidebar h2 {
        padding: 1.5rem;
        color: white;
        font-size: 1.2rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .sidebar ul {
        list-style: none;
        padding: 1rem 0;
      }

      .sidebar ul li {
        position: relative;
      }

      .sidebar ul li a {
        display: flex;
        align-items: center;
        color: white;
        padding: 0.8rem 1.5rem;
        text-decoration: none;
        transition: all 0.2s;
      }

      .sidebar ul li a i {
        margin-right: 0.8rem;
        min-width: 20px;
        text-align: center;
      }

      .sidebar ul li.active a,
      .sidebar ul li a:hover {
        color: var(--primary);
        background: var(--primary-light);
        border-left: 4px solid var(--primary);
      }

      /* Main Content */
      .main-content {
        margin-left: var(--sidebar-width);
        padding: 1.5rem;
        transition: all var(--transition-speed);
      }

      /* Header */
      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
      }

      .header h1 {
        font-size: 1.7rem;
        color: var(--dark);
        font-weight: 500;
      }

      .user-profile {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .profile-image {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        object-fit: cover;
      }

      .notification-bell {
        position: relative;
        cursor: pointer;
      }

      .notification-count {
        position: absolute;
        top: -5px;
        right: -5px;
        background-color: var(--danger);
        color: white;
        font-size: 12px;
        padding: 2px 6px;
        border-radius: 50%;
      }

      /* Cards and tables */
      .card {
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.1);
        margin-bottom: 1.5rem;
        border: none;
      }

      .card-header {
        padding: 1rem 1.5rem;
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        background-color: white;
        border-top-left-radius: 12px !important;
        border-top-right-radius: 12px !important;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .card-title {
        margin-bottom: 0;
        color: var(--dark);
        font-weight: 500;
      }

      /* Menu Toggle */
      .menu-toggle {
        position: fixed;
        top: 15px;
        left: 15px;
        z-index: 200;
        background: var(--primary);
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 5px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        display: none;
      }

      /* Appointments Filter Bar */
      .appointments-filter-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        flex-wrap: wrap;
        gap: 10px;
      }

      .filter-section {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .filter-group {
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .filter-select {
        padding: 8px 12px;
        border: 1px solid #ddd;
        border-radius: var(--border-radius);
        font-size: 14px;
      }

      .action-section {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .btn-primary {
        background-color: var(--primary);
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: var(--border-radius);
        cursor: pointer;
        font-weight: 500;
        transition: var(--transition-speed);
      }

      .btn-primary:hover {
        background-color: var(--secondary);
      }

      /* Search Bar */
      .search-bar {
        margin-bottom: 20px;
      }

      .search-input-container {
        position: relative;
      }

      .search-icon {
        position: absolute;
        top: 50%;
        left: 10px;
        transform: translateY(-50%);
        color: var(--gray);
      }

      .search-input {
        width: 100%;
        padding: 10px 10px 10px 35px;
        border: 1px solid #ddd;
        border-radius: var(--border-radius);
        font-size: 14px;
      }

      /* Appointment Stats */
      .appointment-stats {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        margin-bottom: 20px;
      }

      @media (max-width: 992px) {
        .appointment-stats {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      @media (max-width: 576px) {
        .appointment-stats {
          grid-template-columns: 1fr;
        }
      }

      .stat-card {
        background-color: white;
        border-radius: var(--border-radius);
        padding: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
        box-shadow: var(--box-shadow);
      }

      .stat-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
      }

      .stat-details {
        flex: 1;
      }

      .stat-details h4 {
        margin: 0;
        font-size: 14px;
        color: var(--gray);
      }

      .stat-count {
        font-size: 24px;
        font-weight: 600;
      }

      /* Status Badges */
      .status-badge {
        padding: 5px 10px;
        border-radius: var(--border-radius);
        font-size: 12px;
        font-weight: 500;
      }

      .status-badge.scheduled {
        background-color: var(--success);
        color: white;
      }

      .status-badge.pending {
        background-color: var(--warning);
        color: white;
      }

      .status-badge.completed {
        background-color: var(--info);
        color: white;
      }

      .status-badge.cancelled {
        background-color: var(--danger);
        color: white;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .sidebar {
          transform: translateX(-100%);
        }

        .sidebar.active {
          transform: translateX(0);
        }

        .main-content {
          margin-left: 0;
        }

        .menu-toggle {
          display: flex;
        }

        .filter-section, .action-section {
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <!-- Background Elements -->
    <div class="background-container">
      <div class="shape shape1"></div>
      <div class="shape shape2"></div>
      <div class="icons-container">
        <i class="icon fas fa-heartbeat"></i>
        <i class="icon fas fa-pills"></i>
        <i class="icon fas fa-stethoscope"></i>
        <i class="icon fas fa-user-md"></i>
        <i class="icon fas fa-hospital"></i>
        <i class="icon fas fa-notes-medical"></i>
        <i class="icon fas fa-syringe"></i>
        <i class="icon fas fa-ambulance"></i>
      </div>
    </div>

    <!-- Menu Toggle for Mobile -->
    <div class="menu-toggle" id="menuToggle">
      <i class="fas fa-bars"></i>
    </div>

    <div class="sidebar" id="sidebar">
      <h2><i class="fas fa-user-md"></i> Caregiver Portal</h2>
      <ul>
        <li>
          <a href="/caregiver/dashboard"
            ><i class="fas fa-home"></i> Dashboard</a
          >
        </li>
        <li class="active">
          <a href="/caregiver/appointments"
            ><i class="fas fa-calendar-check"></i> Appointments</a
          >
        </li>
        <li>
          <a href="/caregiver/patient-requests"
            ><i class="fas fa-user-plus"></i> Patient Requests</a
          >
        </li>
        <li>
          <a href="/caregiver/profile"
            ><i class="fas fa-user-md"></i> Settings & Profile</a
          >
        </li>
      </ul>
      <ul class="logout">
        <li>
          <a href="/logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </li>
      </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <div class="header">
        <h1>Appointments Management</h1>
        <div class="user-profile">
          <img src="./Doc.jpeg" alt="Doctor Profile" class="profile-image" />
          <div class="notification-bell" id="notificationBell">
            <i class="fas fa-bell"></i>
            <span class="notification-count">5</span>
          </div>
        </div>
      </div>

      <!-- Notifications Popup -->
      <div class="notifications-popup" id="notificationsPopup">
        <div class="notifications-header">
          <h3>Notifications</h3>
          <button class="mark-all-read">Mark all as read</button>
        </div>
        <div class="notifications-list">
          <div class="notification-item unread">
            <div class="notification-icon bg-primary">
              <i class="fas fa-calendar-alt"></i>
            </div>
            <div class="notification-content">
              <div class="notification-title">New Appointment Request</div>
              <div class="notification-message">
                John Doe requested an urgent appointment.
              </div>
              <div class="notification-time">10 minutes ago</div>
            </div>
          </div>
          <div class="notification-item unread">
            <div class="notification-icon bg-info">
              <i class="fas fa-file-medical"></i>
            </div>
            <div class="notification-content">
              <div class="notification-title">New Lab Results</div>
              <div class="notification-message">
                Lab results for Maria Garcia are now available.
              </div>
              <div class="notification-time">1 hour ago</div>
            </div>
          </div>
          <div class="notification-item unread">
            <div class="notification-icon bg-success">
              <i class="fas fa-comments"></i>
            </div>
            <div class="notification-content">
              <div class="notification-title">New Message</div>
              <div class="notification-message">
                Patient Robert Smith has sent you a message.
              </div>
              <div class="notification-time">3 hours ago</div>
            </div>
          </div>
          <div class="notification-item">
            <div class="notification-icon bg-warning">
              <i class="fas fa-prescription"></i>
            </div>
            <div class="notification-content">
              <div class="notification-title">Prescription Refill</div>
              <div class="notification-message">
                Emily Johnson requested a prescription refill.
              </div>
              <div class="notification-time">Yesterday</div>
            </div>
          </div>
          <div class="notification-item">
            <div class="notification-icon bg-danger">
              <i class="fas fa-exclamation-circle"></i>
            </div>
            <div class="notification-content">
              <div class="notification-title">Urgent Follow-up</div>
              <div class="notification-message">
                Urgent follow-up required for patient Michael Brown.
              </div>
              <div class="notification-time">Yesterday</div>
            </div>
          </div>
        </div>
        <div class="notifications-footer">
          <a href="notifications.html">View all notifications</a>
        </div>
      </div>

      <!-- Appointments Section -->
      <div class="dashboard-section active">
        <!-- Filter and Action Bar -->
        <div class="appointments-filter-bar">
          <div class="filter-section">
            <div class="filter-group">
              <label for="dateFilter">Date Range:</label>
              <select id="dateFilter" class="filter-select">
                <option value="today">Today</option>
                <option value="tomorrow">Tomorrow</option>
                <option value="week" selected>This Week</option>
                <option value="month">This Month</option>
                <option value="custom">Custom Range</option>
              </select>
            </div>

            <div class="filter-group">
              <label for="urgencyFilter">Urgency:</label>
              <select id="urgencyFilter" class="filter-select">
                <option value="all" selected>All</option>
                <option value="urgent">Urgent</option>
                <option value="regular">Regular</option>
              </select>
            </div>

            <div class="filter-group">
              <label for="typeFilter">Type:</label>
              <select id="typeFilter" class="filter-select">
                <option value="all" selected>All Types</option>
                <option value="checkup">Regular Checkup</option>
                <option value="followup">Follow-up</option>
                <option value="consultation">Consultation</option>
                <option value="prescription">Prescription Review</option>
              </select>
            </div>

            <div class="filter-group">
              <label for="statusFilter">Status:</label>
              <select id="statusFilter" class="filter-select">
                <option value="all" selected>All Status</option>
                <option value="scheduled">Scheduled</option>
                <option value="pending">Pending</option>
                <option value="completed">Completed</option>
                <option value="cancelled">Cancelled</option>
              </select>
            </div>
          </div>

          <div class="action-section">
            <button class="btn-primary" id="newAppointmentBtn">
              <i class="fas fa-plus"></i> New Appointment
            </button>
            <div class="view-toggle">
              <button class="view-btn active" data-view="list">
                <i class="fas fa-list"></i>
              </button>
              <button class="view-btn" data-view="calendar">
                <i class="fas fa-calendar-alt"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- Search Bar -->
        <div class="search-bar">
          <div class="search-input-container">
            <i class="fas fa-search search-icon"></i>
            <input
              type="text"
              id="appointmentSearch"
              class="search-input"
              placeholder="Search by patient name, ID, or appointment details..."
            />
          </div>
        </div>

        <!-- Calendar View (initially hidden) -->
        <div class="calendar-view" style="display: none">
          <div class="calendar-header">
            <button class="calendar-nav-btn" id="prevMonth">
              <i class="fas fa-chevron-left"></i>
            </button>
            <h3 id="currentMonthYear">March 2025</h3>
            <button class="calendar-nav-btn" id="nextMonth">
              <i class="fas fa-chevron-right"></i>
            </button>
          </div>
          <div class="calendar-grid">
            <div class="calendar-weekdays">
              <div>Sun</div>
              <div>Mon</div>
              <div>Tue</div>
              <div>Wed</div>
              <div>Thu</div>
              <div>Fri</div>
              <div>Sat</div>
            </div>
            <div class="calendar-days" id="calendarDays">
              <!-- Calendar days will be generated with JS -->
            </div>
          </div>
        </div>

        <!-- List View (default) -->
        <div class="list-view">
          <!-- Appointment Statistics -->
          <div class="appointment-stats">
            <div class="stat-card bg-primary-light">
              <div class="stat-icon bg-primary">
                <i class="fas fa-calendar-check"></i>
              </div>
              <div class="stat-details">
                <h4>Today</h4>
                <div class="stat-count">6</div>
              </div>
            </div>

            <div class="stat-card bg-info-light">
              <div class="stat-icon bg-info">
                <i class="fas fa-calendar-plus"></i>
              </div>
              <div class="stat-details">
                <h4>Upcoming</h4>
                <div class="stat-count">14</div>
              </div>
            </div>

            <div class="stat-card bg-success-light">
              <div class="stat-icon bg-success">
                <i class="fas fa-check-circle"></i>
              </div>
              <div class="stat-details">
                <h4>Completed</h4>
                <div class="stat-count">8</div>
              </div>
            </div>

            <div class="stat-card bg-warning-light">
              <div class="stat-icon bg-warning">
                <i class="fas fa-clock"></i>
              </div>
              <div class="stat-details">
                <h4>Pending</h4>
                <div class="stat-count">5</div>
              </div>
            </div>
          </div>

          <!-- Appointments List -->
          <div class="card appointments-card">
            <div class="card-header">
              <div class="d-flex">
                <div class="card-icon bg-primary">
                  <i class="fas fa-calendar-alt"></i>
                </div>
                <h3>Upcoming Appointments</h3>
              </div>
              <div class="card-actions">
                <button class="btn-action btn-secondary" id="exportBtn">
                  <i class="fas fa-download"></i> Export
                </button>
              </div>
            </div>

            <div class="card-body">
              <div class="appointment-date-header">
                <div class="date-badge">Today, March 23, 2025</div>
              </div>

              <div class="appointment-table">
                <div class="appointment-row">
                  <div class="appointment-cell time-cell">
                    <div class="time-display">09:00 AM</div>
                    <span class="duration">30 min</span>
                  </div>
                  <div class="appointment-cell patient-cell">
                    <img
                      src="./Pat.jpeg"
                      alt="Patient"
                      class="patient-small-image"
                    />
                    <div class="patient-info">
                      <div class="patient-name">John Doe</div>
                      <div class="patient-details">42y, Male • ID: P-1024</div>
                    </div>
                  </div>
                  <div class="appointment-cell type-cell">
                    <span class="appointment-type">Regular Checkup</span>
                  </div>
                  <div class="appointment-cell status-cell">
                    <span class="status-badge scheduled">Scheduled</span>
                  </div>
                  <div class="appointment-cell actions-cell">
                    <button
                      class="btn-circle btn-success"
                      title="Start Meeting"
                    >
                      <i class="fas fa-video"></i>
                    </button>
                    <button class="btn-circle btn-info" title="View Details">
                      <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn-circle btn-warning" title="Reschedule">
                      <i class="fas fa-clock"></i>
                    </button>
                    <button class="btn-circle btn-danger" title="Cancel">
                      <i class="fas fa-times"></i>
                    </button>
                  </div>
                </div>

                <div class="appointment-row">
                  <div class="appointment-cell time-cell">
                    <div class="time-display">10:30 AM</div>
                    <span class="duration">45 min</span>
                  </div>
                  <div class="appointment-cell patient-cell">
                    <img
                      src="./Pat2.jpeg"
                      alt="Patient"
                      class="patient-small-image"
                    />
                    <div class="patient-info">
                      <div class="patient-name">Maria Garcia</div>
                      <div class="patient-details">
                        35y, Female • ID: P-2189
                      </div>
                    </div>
                  </div>
                  <div class="appointment-cell type-cell">
                    <span class="appointment-type">Follow-up</span>
                  </div>
                  <div class="appointment-cell status-cell">
                    <span class="status-badge scheduled">Scheduled</span>
                  </div>
                  <div class="appointment-cell actions-cell">
                    <button
                      class="btn-circle btn-success"
                      title="Start Meeting"
                    >
                      <i class="fas fa-video"></i>
                    </button>
                    <button class="btn-circle btn-info" title="View Details">
                      <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn-circle btn-warning" title="Reschedule">
                      <i class="fas fa-clock"></i>
                    </button>
                    <button class="btn-circle btn-danger" title="Cancel">
                      <i class="fas fa-times"></i>
                    </button>
                  </div>
                </div>

                <div class="appointment-row">
                  <div class="appointment-cell time-cell">
                    <div class="time-display">01:15 PM</div>
                    <span class="duration">60 min</span>
                  </div>
                  <div class="appointment-cell patient-cell">
                    <img
                      src="./Pat.jpeg"
                      alt="Patient"
                      class="patient-small-image"
                    />
                    <div class="patient-info">
                      <div class="patient-name">Robert Smith</div>
                      <div class="patient-details">28y, Male • ID: P-3570</div>
                    </div>
                  </div>
                  <div class="appointment-cell type-cell">
                    <span class="appointment-type">Consultation</span>
                    <span class="tag urgent">Urgent</span>
                  </div>
                  <div class="appointment-cell status-cell">
                    <span class="status-badge pending">Pending</span>
                  </div>
                  <div class="appointment-cell actions-cell">
                    <button class="btn-circle btn-primary" title="Accept">
                      <i class="fas fa-check"></i>
                    </button>
                    <button class="btn-circle btn-info" title="View Details">
                      <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn-circle btn-warning" title="Reschedule">
                      <i class="fas fa-clock"></i>
                    </button>
                    <button class="btn-circle btn-danger" title="Reject">
                      <i class="fas fa-times"></i>
                    </button>
                  </div>
                </div>

                <div class="appointment-row">
                  <div class="appointment-cell time-cell">
                    <div class="time-display">03:45 PM</div>
                    <span class="duration">30 min</span>
                  </div>
                  <div class="appointment-cell patient-cell">
                    <img
                      src="./Pat2.jpeg"
                      alt="Patient"
                      class="patient-small-image"
                    />
                    <div class="patient-info">
                      <div class="patient-name">Emily Johnson</div>
                      <div class="patient-details">
                        51y, Female • ID: P-4281
                      </div>
                    </div>
                  </div>
                  <div class="appointment-cell type-cell">
                    <span class="appointment-type">Prescription Review</span>
                  </div>
                  <div class="appointment-cell status-cell">
                    <span class="status-badge scheduled">Scheduled</span>
                  </div>
                  <div class="appointment-cell actions-cell">
                    <button
                      class="btn-circle btn-success"
                      title="Start Meeting"
                    >
                      <i class="fas fa-video"></i>
                    </button>
                    <button class="btn-circle btn-info" title="View Details">
                      <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn-circle btn-warning" title="Reschedule">
                      <i class="fas fa-clock"></i>
                    </button>
                    <button class="btn-circle btn-danger" title="Cancel">
                      <i class="fas fa-times"></i>
                    </button>
                  </div>
                </div>
              </div>

              <div class="appointment-date-header">
                <div class="date-badge">Tomorrow, March 24, 2025</div>
              </div>

              <div class="appointment-table">
                <div class="appointment-row">
                  <div class="appointment-cell time-cell">
                    <div class="time-display">08:30 AM</div>
                    <span class="duration">45 min</span>
                  </div>
                  <div class="appointment-cell patient-cell">
                    <img
                      src="./Pat.jpeg"
                      alt="Patient"
                      class="patient-small-image"
                    />
                    <div class="patient-info">
                      <div class="patient-name">James Miller</div>
                      <div class="patient-details">39y, Male • ID: P-5172</div>
                    </div>
                  </div>
                  <div class="appointment-cell type-cell">
                    <span class="appointment-type">Follow-up</span>
                  </div>
                  <div class="appointment-cell status-cell">
                    <span class="status-badge scheduled">Scheduled</span>
                  </div>
                  <div class="appointment-cell actions-cell">
                    <button
                      class="btn-circle btn-success"
                      title="Start Meeting"
                    >
                      <i class="fas fa-video"></i>
                    </button>
                    <button class="btn-circle btn-info" title="View Details">
                      <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn-circle btn-warning" title="Reschedule">
                      <i class="fas fa-clock"></i>
                    </button>
                    <button class="btn-circle btn-danger" title="Cancel">
                      <i class="fas fa-times"></i>
                    </button>
                  </div>
                </div>

                <div class="appointment-row">
                  <div class="appointment-cell time-cell">
                    <div class="time-display">11:00 AM</div>
                    <span class="duration">30 min</span>
                  </div>
                  <div class="appointment-cell patient-cell">
                    <img
                      src="./Pat2.jpeg"
                      alt="Patient"
                      class="patient-small-image"
                    />
                    <div class="patient-info">
                      <div class="patient-name">Jennifer Davis</div>
                      <div class="patient-details">
                        45y, Female • ID: P-6038
                      </div>
                    </div>
                  </div>
                  <div class="appointment-cell type-cell">
                    <span class="appointment-type">Regular Checkup</span>
                  </div>
                  <div class="appointment-cell status-cell">
                    <span class="status-badge scheduled">Scheduled</span>
                  </div>
                  <div class="appointment-cell actions-cell">
                    <button
                      class="btn-circle btn-success"
                      title="Start Meeting"
                    >
                      <i class="fas fa-video"></i>
                    </button>
                    <button class="btn-circle btn-info" title="View Details">
                      <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn-circle btn-warning" title="Reschedule">
                      <i class="fas fa-clock"></i>
                    </button>
                    <button class="btn-circle btn-danger" title="Cancel">
                      <i class="fas fa-times"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Appointment Details Modal -->
    <div class="modal" id="appointmentDetailsModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Appointment Details</h3>
          <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="appointment-detail-card">
            <div class="appointment-detail-header">
              <div class="patient-profile">
                <img
                  src="./Pat.jpeg"
                  alt="Patient"
                  class="patient-detail-image"
                />
                <div class="patient-detail-info">
                  <h4>John Doe</h4>
                  <div class="patient-demographics">
                    <span><i class="fas fa-birthday-cake"></i> 42 years</span>
                    <span><i class="fas fa-venus-mars"></i> Male</span>
                    <span><i class="fas fa-id-card"></i> P-1024</span>
                  </div>
                  <div class="appointment-tags">
                    <span class="tag regular">Regular Checkup</span>
                    <span class="tag scheduled">Scheduled</span>
                  </div>
                </div>
              </div>
              <div class="appointment-detail-actions">
                <button class="btn-primary">
                  <i class="fas fa-video"></i> Start Session
                </button>
                <button class="btn-secondary">
                  <i class="fas fa-phone"></i> Call Patient
                </button>
              </div>
            </div>

            <div class="appointment-detail-content">
              <div class="detail-section">
                <h5>
                  <i class="fas fa-calendar-alt"></i> Appointment Schedule
                </h5>
                <div class="detail-row">
                  <div class="detail-label">Date:</div>
                  <div class="detail-value">March 23, 2025 (Today)</div>
                </div>
                <div class="detail-row">
                  <div class="detail-label">Time:</div>
                  <div class="detail-value">
                    09:00 AM - 09:30 AM (30 minutes)
                  </div>
                </div>
                <div class="detail-row">
                  <div class="detail-label">Type:</div>
                  <div class="detail-value">Regular Checkup</div>
                </div>
              </div>

              <div class="detail-section">
                <h5><i class="fas fa-info-circle"></i> Appointment Details</h5>
                <div class="detail-row">
                  <div class="detail-label">Reason:</div>
                  <div class="detail-value">
                    Annual wellness check and review of hypertension medication
                  </div>
                </div>
                <div class="detail-row">
                  <div class="detail-label">Notes:</div>
                  <div class="detail-value">
                    Patient has been experiencing occasional dizziness. Blood
                    pressure to be monitored.
                  </div>
                </div>
              </div>

              <div class="detail-section">
                <h5><i class="fas fa-file-medical"></i> Patient History</h5>
                <div class="detail-row">
                  <div class="detail-label">Last Visit:</div>
                  <div class="detail-value">
                    September 15, 2024 (6 months ago)
                  </div>
                </div>
                <div class="detail-row">
                  <div class="detail-label">Medical Conditions:</div>
                  <div class="detail-value">Hypertension, High Cholesterol</div>
                </div>
                <div class="detail-row">
                  <div class="detail-label">Current Medications:</div>
                  <div class="detail-value">
                    Lisinopril 10mg daily, Simvastatin 20mg daily
                  </div>
                </div>
                <div class="detail-row">
                  <div class="detail-label">Allergies:</div>
                  <div class="detail-value">Penicillin</div>
                </div>
              </div>
            </div>

            <div class="appointment-detail-footer">
              <div class="btn-group">
                <button class="btn-warning">
                  <i class="fas fa-clock"></i> Reschedule
                </button>
                <button class="btn-danger">
                  <i class="fas fa-times"></i> Cancel Appointment
                </button>
              </div>
              <button class="btn-info">
                <i class="fas fa-file-medical"></i> View Full Medical Record
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- New/Edit Appointment Modal -->
    <div class="modal" id="appointmentFormModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>New Appointment</h3>
          <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
          <form id="appointmentForm" class="appointment-form">
            <div class="form-row">
              <div class="form-group">
                <label for="patientSelect">Patient</label>
                <div class="select-with-search">
                  <input
                    type="text"
                    id="patientSearch"
                    placeholder="Search patient..."
                  />
                  <select id="patientSelect" required>
                    <option value="" disabled selected>Select patient</option>
                    <option value="P-1024">John Doe (P-1024)</option>
                    <option value="P-2189">Maria Garcia (P-2189)</option>
                    <option value="P-3570">Robert Smith (P-3570)</option>
                    <option value="P-4281">Emily Johnson (P-4281)</option>
                    <option value="P-5172">James Miller (P-5172)</option>
                    <option value="P-6038">Jennifer Davis (P-6038)</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label for="appointmentType">Appointment Type</label>
                <select id="appointmentType" required>
                  <option value="" disabled selected>Select type</option>
                  <option value="checkup">Regular Checkup</option>
                  <option value="followup">Follow-up</option>
                  <option value="consultation">Consultation</option>
                  <option value="prescription">Prescription Review</option>
                  <option value="test">Lab Test</option>
                  <option value="procedure">Procedure</option>
                </select>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="appointmentDate">Date</label>
                <input type="date" id="appointmentDate" required />
              </div>
              <div class="form-group">
                <label for="appointmentTime">Time</label>
                <input type="time" id="appointmentTime" required />
              </div>
              <div class="form-group">
                <label for="duration">Duration</label>
                <select id="duration" required>
                  <option value="15">15 minutes</option>
                  <option value="30" selected>30 minutes</option>
                  <option value="45">45 minutes</option>
                  <option value="60">60 minutes</option>
                  <option value="90">90 minutes</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label for="notes">Notes</label>
              <textarea
                id="notes"
                rows="3"
                placeholder="Add any notes or special instructions..."
              ></textarea>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn-primary">
                Save Appointment
              </button>
              <button type="button" class="btn-secondary close-modal">
                Cancel
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script>
      // Toggle mobile menu
      document
        .getElementById("menuToggle")
        .addEventListener("click", function () {
          document.getElementById("sidebar").classList.toggle("active");
        });

      // Close sidebar when clicking outside
      document.addEventListener("click", function (event) {
        const sidebar = document.getElementById("sidebar");
        const menuToggle = document.getElementById("menuToggle");
        if (
          !sidebar.contains(event.target) &&
          !menuToggle.contains(event.target)
        ) {
          sidebar.classList.remove("active");
        }
      });

      // Close sidebar when clicking a menu item
      document.querySelectorAll(".sidebar ul li a").forEach((link) => {
        link.addEventListener("click", () => {
          document.getElementById("sidebar").classList.remove("active");
        });
      });

      // Toggle notifications popup
      document
        .getElementById("notificationBell")
        .addEventListener("click", function () {
          document
            .getElementById("notificationsPopup")
            .classList.toggle("active");
        });

      // Close notifications popup when clicking outside
      document.addEventListener("click", function (event) {
        const notificationBell = document.getElementById("notificationBell");
        const notificationsPopup =
          document.getElementById("notificationsPopup");
        if (
          !notificationBell.contains(event.target) &&
          !notificationsPopup.contains(event.target)
        ) {
          notificationsPopup.classList.remove("active");
        }
      });

      // Mark all notifications as read
      document
        .querySelector(".mark-all-read")
        .addEventListener("click", function () {
          document
            .querySelectorAll(".notification-item.unread")
            .forEach((item) => {
              item.classList.remove("unread");
            });
          document.querySelector(".notification-count").textContent = "0";
        });

      // Toggle between list and calendar view
      document.querySelectorAll(".view-btn").forEach((button) => {
        button.addEventListener("click", function () {
          document
            .querySelectorAll(".view-btn")
            .forEach((btn) => btn.classList.remove("active"));
          this.classList.add("active");
          const view = this.getAttribute("data-view");
          if (view === "list") {
            document.querySelector(".list-view").style.display = "block";
            document.querySelector(".calendar-view").style.display = "none";
          } else {
            document.querySelector(".list-view").style.display = "none";
            document.querySelector(".calendar-view").style.display = "block";
          }
        });
      });

      // Open appointment details modal
      document.querySelectorAll(".btn-circle.btn-info").forEach((button) => {
        button.addEventListener("click", function () {
          document
            .getElementById("appointmentDetailsModal")
            .classList.add("active");
        });
      });

      // Close modals
      document.querySelectorAll(".close-modal").forEach((button) => {
        button.addEventListener("click", function () {
          document
            .querySelectorAll(".modal")
            .forEach((modal) => modal.classList.remove("active"));
        });
      });

      // Open new appointment modal
      document
        .getElementById("newAppointmentBtn")
        .addEventListener("click", function () {
          document
            .getElementById("appointmentFormModal")
            .classList.add("active");
        });

      // Handle form submission for new appointment
      document
        .getElementById("appointmentForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          alert("Appointment saved successfully!");
          document
            .getElementById("appointmentFormModal")
            .classList.remove("active");
        });
    </script>
  </body>
</html>
